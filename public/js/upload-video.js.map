{"version":3,"file":"/js/upload-video.js","mappings":"MAAA,IAAIA,EAAIC,OAAOD,EAEXE,EAAcF,EAAE,qBAChBG,EAAkBH,EAAE,mBACpBI,EAAcJ,EAAE,qBAEpB,GAAIE,EAAYG,OAAS,GAAKF,EAAgBE,OAAS,EAAG,CACtD,IAAIC,EAAY,IAAIC,UAAU,CAE1BC,UAAW,QACXC,oBAAqB,EACrBC,YAAY,EACZC,0BAA2B,EAE3BC,OAAQV,EAAYW,KAAK,OAEzBC,MAAO,CACHC,OAAQf,EAAE,sBAAsBgB,SAKnCV,EAAUW,SAIXd,EAAgBe,OAChBZ,EAAUa,WAAWjB,EAAY,IACjCI,EAAUc,aAAajB,EAAgB,IAGvCG,EAAUe,GAAG,aAAa,SAAUC,GAEhClB,EAAYc,OAEZlB,EAAE,6CAA6CuB,OAC/CvB,EAAE,4CAA4CkB,OAE9Cd,EAAYoB,OAAO,6BAA+BF,EAAKG,iBAApC,uOAKnBzB,EAAE,mBAAqBsB,EAAKG,iBAAmB,yBAAyBC,KAAKJ,EAAKK,UAElFrB,EAAUsB,YAEdtB,EAAUe,GAAG,eAAe,SAAUC,EAAMO,GAExC7B,EAAE,mBAAmBuB,OACrBvB,EAAE,wBAAwB8B,KAAK,YAAY,GAC3C9B,EAAE,iBAAiBgB,IAAIe,KAAKC,MAAMH,GAASI,cAC3CjC,EAAE,mBAAqBsB,EAAKG,kBAAkBC,KAAK,iCAEvDpB,EAAUe,GAAG,aAAa,SAAUC,EAAMO,GAEtC7B,EAAE,mBAAmBuB,OACrBvB,EAAE,mBAAqBsB,EAAKG,kBAAkBC,KAC1C,sBAERpB,EAAUe,GAAG,gBAAgB,SAAUC,GAEnCtB,EAAE,mBAAmBuB,OACrBvB,EAAE,wBAAwB8B,KAAK,YAAY,GAC3C9B,EAAE,mBAAqBsB,EAAKG,iBAAmB,6BAA6BC,KAAKQ,KAAKC,MACpE,IAD0Eb,EACvFc,YAAoB,KACzBpC,EAAE,iBAAiBqC,IAAI,CACnBC,MAAOJ,KAAKC,MAA6B,IAAvB7B,EAAU8B,YAAoB,UA5CxDpC,EAAE,oBAAoBkB,S","sources":["webpack:///./resources/js/project-element-component-versions/upload-video.js"],"sourcesContent":["var $ = window.$;\r\n\r\nvar $fileUpload = $('#resumable-browse');\r\nvar $fileUploadDrop = $('#resumable-drop');\r\nvar $uploadList = $(\"#file-upload-list\");\r\n\r\nif ($fileUpload.length > 0 && $fileUploadDrop.length > 0) {\r\n    var resumable = new Resumable({\r\n        // Use chunk size that is smaller than your maximum limit due a resumable issue\r\n        chunkSize: 1 * 1024 * 1024, // 1MB\r\n        simultaneousUploads: 3,\r\n        testChunks: false,\r\n        throttleProgressCallbacks: 1,\r\n        // Get the url from data-url tag\r\n        target: $fileUpload.data('url'),\r\n        // Append token to the request - required for web routes\r\n        query: {\r\n            _token: $('input[name=_token]').val()\r\n        }\r\n    });\r\n\r\n    // Resumable.js isn't supported, fall back on a different method\r\n    if (!resumable.support) {\r\n        $('#resumable-error').show();\r\n    } else {\r\n        // Show a place for dropping/selecting files\r\n        $fileUploadDrop.show();\r\n        resumable.assignDrop($fileUpload[0]);\r\n        resumable.assignBrowse($fileUploadDrop[0]);\r\n\r\n        // Handle file add event\r\n        resumable.on('fileAdded', function (file) {\r\n            // Show progress pabr\r\n            $uploadList.show();\r\n            // Show pause, hide resume\r\n            $('.resumable-progress .progress-resume-link').hide();\r\n            $('.resumable-progress .progress-pause-link').show();\r\n            // Add the file to the list\r\n            $uploadList.append('<li class=\"resumable-file-' + file.uniqueIdentifier +\r\n                `\">Przysyłanie <span class=\"resumable-file-name\"></span> <div class=\"progress\">\r\n                <div class=\"progress-bar\" role=\"progressbar\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\r\n                </div>`\r\n                );\r\n            $('.resumable-file-' + file.uniqueIdentifier + ' .resumable-file-name').html(file.fileName);\r\n            // Actually start the upload\r\n            resumable.upload();\r\n        });\r\n        resumable.on('fileSuccess', function (file, message) {\r\n            // Reflect that the file upload has completed\r\n            $('#resumable-drop').hide();\r\n            $('#video-upload-button').prop('disabled', false);\r\n            $('#storage_path').val(JSON.parse(message).storage_path)\r\n            $('.resumable-file-' + file.uniqueIdentifier).html('(Film gotowy do wrzucenia)');\r\n        });\r\n        resumable.on('fileError', function (file, message) {\r\n            // Reflect that the file upload has resulted in error\r\n            $('#resumable-show').hide();\r\n            $('.resumable-file-' + file.uniqueIdentifier).html(\r\n                '(Wystąpił bład)');\r\n        });\r\n        resumable.on('fileProgress', function (file) {\r\n            // Handle progress for both the file and the overall upload\r\n            $('#resumable-drop').hide();\r\n            $('#video-upload-button').prop('disabled', true);\r\n            $('.resumable-file-' + file.uniqueIdentifier + ' .resumable-file-progress').html(Math.floor(file\r\n                .progress() * 100) + '%');\r\n            $('.progress-bar').css({\r\n                width: Math.floor(resumable.progress() * 100) + '%'\r\n            });\r\n        });\r\n    }\r\n\r\n}\r\n"],"names":["$","window","$fileUpload","$fileUploadDrop","$uploadList","length","resumable","Resumable","chunkSize","simultaneousUploads","testChunks","throttleProgressCallbacks","target","data","query","_token","val","support","show","assignDrop","assignBrowse","on","file","hide","append","uniqueIdentifier","html","fileName","upload","message","prop","JSON","parse","storage_path","Math","floor","progress","css","width"],"sourceRoot":""}